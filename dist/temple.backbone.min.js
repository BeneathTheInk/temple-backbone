!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),(b.Temple||(b.Temple={})).Backbone=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=function(){return this.Backbone?this.Backbone:a("backbone")}.call("undefined"!=typeof window?window:this),d=function(){return this.Temple?this.Temple:a("templejs")}.call("undefined"!=typeof window?window:this);b.exports=function(){this.listenTo=c.Events.listenTo,this.listenToOnce=c.Events.listenToOnce,this.stopListening=c.Events.stopListening,this.off=this.removeListener,this.trigger=this.emit,this.handle(e),this.handle(f)};var e={match:function(a){return a instanceof c.Model},construct:function(a){var b=this;a.on("change",this._backboneListener=function(){var a;for(var c in this.changed)a=this.get(c),b.set(c,a,{notify:!1}),b.notify(c,a,this.previous(c))})},isLeaf:function(){return!1},get:function(a,b){return a.get(b)},set:function(a,b,c){return a.set(b,c),!0},keys:function(a){return a.keys()},merge:function(a,b){if(!d.util.isPlainObject(b))return!1;for(var c in b)this.set(c,b[c]);return!0},deleteProperty:function(a,b){return a.unset(b),!0},destroy:function(a){a.off("change",this._backboneListener)}},f={match:function(a){return a instanceof c.Collection},construct:function(a){var b=this;a.on("add remove reset sort",this._backboneListener=function(){this.each(function(a,c){var d;d=b.get(c),d!==a&&(b.set(c,a,{notify:!1}),b.notify(c,a,d)),a.id&&(d=b.get(a.id),d!==a&&(b.set(a.id,a,{notify:!1}),b.notify(a.id,a,d)))})})},isLeaf:function(){return!1},toArray:function(a){return a.toArray()},get:function(a,b){return a.at(b)||a.get(b)},set:function(a,b,c){var d=parseInt(b,10),e={};return!isNaN(d)&&~d&&(e.at=d),a.set([c],e),!0},keys:function(a){return Object.keys(a.toArray())},merge:function(){return!1},deleteProperty:function(a,b){var c=a.at(b)||a.get(b);return a.remove(c),!0},destroy:function(a){a.off("add remove reset sort",this._backboneListener)}}},{}]},{},[1])(1)});